Source link: https://morioh.com/a/4cc5183feac7/ustanovite-nginx-na-ubuntu-2204-lts-dlya-nachinayushih

**UFW BUG** (until version 0.36.2) - link https://superuser.com/questions/1775776/enabling-ufw-failed-with-ubuntu-from-wsl2

В этом руководстве мы узнаем, как установить Nginx на Ubuntu 22.04 LTS. Чтобы установить Nginx на Ubuntu 22.04 LTS, мы делаем следующие шаги.

- Шаг 1. Обновите репозитории программного обеспечения
- Шаг 2. Установка Nginx в Ubuntu 22.04 LTS
- Шаг 3: Проверьте установку
- Шаг 4: Управление процессом Nginx
- Шаг 5: Настройка брандмауэра Nginx
- Шаг 6: Тест

Предпосылки

- Операционная  система  под управлением  Ubuntu 22.04  Linux
- Пользователь root или не root с   привилегиями sudo
- Стабильное интернет-соединение
- Убедитесь, что Apache или любые другие процессы не запущены на порту 80 или 443.
- Окно терминала/Командная строка

### Шаг 1. Обновите репозитории программного обеспечения

Обновление локального пакета командой apt. Откройте окно терминала и выполните следующую команду:

`sudo apt update`

Обновление локального пакета командой apt. Откройте окно терминала и выполните следующую команду:

`sudo apt upgrade`

### Шаг 2. Установка Nginx в Ubuntu 22.04 LTS

Nginx доступен в стандартных репозиториях Ubuntu 22.04. Выполните следующую команду и установите Nginx:

`sudo apt install nginx`

### Шаг 3: Проверьте установку

Когда Nginx установлен правильно, проверка по версии ПО.

`nginx -v`

### Шаг 4: Управление процессом Nginx

Теперь, когда ваш веб-сервер запущен и работает, давайте рассмотрим основные команды управления.

Чтобы остановить веб-сервер, выполните следующую команду:

`sudo systemctl stop nginx`

Чтобы запустить веб-сервер, выполните следующую команду:

`sudo systemctl start nginx`

Чтобы перезагрузить веб-сервер, выполните следующую команду:

`sudo systemctl reload nginx`

Чтобы отключить веб-сервер, выполните следующую команду:

`sudo systemctl disable nginx`

Чтобы включить веб-сервер, выполните следующую команду:

`sudo systemctl enable nginx
`
Чтобы определить статус вашего веб-сервера, выполните следующую команду:

`sudo systemctl status nginx`

Установите Nginx на Ubuntu 22.04 LTS — Ubuntu — TechvBlogs

### Шаг 5: Настройка брандмауэра Nginx(ufw - firewall)

Проверьте доступные ufw профили приложений:

`sudo ufw app list`

`sudo ufw enable`

Установите Nginx на Ubuntu 22.04 LTS — Ubuntu — TechvBlogs

Давайте включим наиболее строгий профиль, который по-прежнему будет разрешать трафик, который вы настроили, разрешая трафик на порту 80:

`sudo ufw allow 'Nginx Full'`

Установите Nginx на Ubuntu 22.04 LTS — Ubuntu — TechvBlogs

Подтвердите изменение:

`sudo ufw status`

Если у вас есть другие приложения или службы, которые необходимо разрешить, убедитесь, что вы настроили брандмауэр на разрешение трафика.

Например, использование этой sudo ufw allow 'OpenSSH' команды активирует безопасный, зашифрованный вход в систему по сети.